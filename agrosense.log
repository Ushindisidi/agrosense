2025-10-19 14:03:01,238 - src.agrosense.core.mcp_client - INFO - MCP Session created: PBTC8EIrNLO-JprBTAX3do8kfbtealkpgz2x4mdTQGI
2025-10-19 14:03:02,478 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:03:02,480 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:03:11,708 - src.agrosense.core.mcp_client - INFO - MCP Session created: aN91wWuUD0T1ntPbEE56TFh7cgp9dQDwNzHYxx2eWLw
2025-10-19 14:03:13,138 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:03:13,141 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:03:13,299 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:03:15,431 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:03:15,487 - src.agrosense.core.mcp_client - INFO - MCP Session created: iDMkDKkSnQemUm9dhJ6K1qEW3896Qat3qFjOGwlQbIo
2025-10-19 14:03:16,772 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:03:16,775 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:03:47,270 - src.agrosense.core.mcp_client - INFO - MCP Session created: RhsMH4IBTFjfTpGTsr65vcTwGzO6-VJaUuLk8Izcq8E
2025-10-19 14:03:48,738 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:03:48,742 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:03:48,852 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:03:49,951 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:03:50,003 - src.agrosense.core.mcp_client - INFO - MCP Session created: Mf8kaCUwJFKhSXlUtR3NJi22-3poMLnykp5yRGtBcv4
2025-10-19 14:03:51,355 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:03:51,359 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:04:10,904 - src.agrosense.core.mcp_client - INFO - MCP Session created: EuKXt-Ey7e-dkV6wTIKrHTNL0ZcaBatULrHLIQuECn8
2025-10-19 14:04:12,418 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:04:12,424 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 14:04:12,684 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:14,122 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:14,125 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:14,880 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:15,020 - src.agrosense.core.mcp_client - INFO - MCP Session created: Sz8H_GfuSR5-NrIq6QuJM0uvncqq_mXN9SP1gDOeglY
2025-10-19 14:04:15,232 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:17,441 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:17,542 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:18,979 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:22,418 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:23,527 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:23,633 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:25,126 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:26,505 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:04:26,508 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for mombasa
2025-10-19 14:04:26,552 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:29,808 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:29,935 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:37,465 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:37,838 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:39,459 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:39,532 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 14:04:40,948 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 14:04:41,831 - src.agrosense.core.mcp_client - INFO - MCP Session created: 37ImpqsDdWLItwam4-QgMxWeBs5vdkp0OrLuIGX-X_w
2025-10-19 14:04:43,449 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 14:04:43,454 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 19:44:55,976 - src.agrosense.core.mcp_client - INFO - MCP Session created: ppOOKZ0aqGbNSokxN0DtUCZGUHGccMcJZpGzim6eDwk
2025-10-19 19:44:57,152 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 19:44:57,163 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 19:45:11,320 - src.agrosense.core.mcp_client - INFO - MCP Session created: yCYd2-bmN3LB9AvwlONtxpGRsreZyPPe5D4ELrTUL30
2025-10-19 19:45:12,469 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 19:45:12,471 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-19 19:45:12,633 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash; provider = gemini
2025-10-19 19:45:14,662 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-19 19:45:14,711 - src.agrosense.core.mcp_client - INFO - MCP Session created: WEnunDdeCJ45AZMjExODbMQlm9DiHyAvnTYZk_rUAcs
2025-10-19 19:45:16,165 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-19 19:45:16,169 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:16:27,728 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:16:32,027 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:17:33,589 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:17:35,384 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:20:21,396 - src.agrosense.core.mcp_client - INFO - MCP Session created: lcZ3vrAoTiUpWgb03cFlAYE9vdtSvnqujpxvWSHLPDc
2025-10-20 11:20:22,615 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:20:22,625 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:20:29,152 - src.agrosense.core.mcp_client - INFO - MCP Session created: tSLBWZ-yiJ0jG_V2n4u3A6zqw9xHyuCQ8vgVY17OitM
2025-10-20 11:20:30,433 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:20:30,442 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:20:30,853 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:20:31,763 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:20:31,868 - src.agrosense.core.mcp_client - INFO - MCP Session created: zS-rNvQnb8QBynIdb1NxKH4MZyCvBkdVvjpz6STKwbs
2025-10-20 11:20:33,144 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:20:33,154 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:20:54,841 - src.agrosense.core.mcp_client - INFO - MCP Session created: mIZ-Jb9CJt77ix9zvegEvyUgd4Hv7r83-d722FFj2nk
2025-10-20 11:20:57,546 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:20:57,549 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:20:57,638 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:20:59,697 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:20:59,794 - src.agrosense.core.mcp_client - INFO - MCP Session created: jtrgAyW6ejMAbwXfPtv0BANTMmBxWE_x1FzRkLRevX8
2025-10-20 11:21:01,102 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:21:01,109 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:24:06,704 - src.agrosense.core.mcp_client - INFO - MCP Session created: 298EF_zroAZadNqLmOeumXVIA3jSZQcm1Qar1gm_O3w
2025-10-20 11:24:08,154 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:24:08,159 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 11:24:08,379 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:09,308 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:09,328 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:11,312 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:11,435 - src.agrosense.core.mcp_client - INFO - MCP Session created: QGcNCaIWg8ZznYEDf9WMAvTmD2e0k3eOkLy8DQlAL_Q
2025-10-20 11:24:11,665 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:13,238 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:13,661 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:15,779 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:18,768 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:24,794 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:25,014 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:26,680 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:28,348 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:24:28,358 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 11:24:28,443 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 11:24:31,882 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 11:24:32,297 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-pro-exp; provider = gemini
2025-10-20 11:24:32,986 - src.agrosense.core.mcp_client - INFO - MCP Session created: Wmg3nBTQcgbjW_iEvaUTrEwRZfSuvFsHu3uUmmyLWm4
2025-10-20 11:24:35,031 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 11:24:35,035 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:04:01,115 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:04:04,986 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:04:37,260 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:04:39,483 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:05:20,104 - src.agrosense.core.mcp_client - INFO - MCP Session created: afngnQZxbG_41BZQ7jMy9RDZ0QYZOUTxaHqY7yiKi3I
2025-10-20 14:05:21,453 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:05:21,457 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:05:27,750 - src.agrosense.core.mcp_client - INFO - MCP Session created: DjWN-9YKQRLFQyF1d_33JpYv7mrGRWJR3rmFRDLAYVQ
2025-10-20 14:05:30,629 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:05:30,638 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:05:31,056 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:05:32,648 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:05:32,724 - src.agrosense.core.mcp_client - INFO - MCP Session created: BtF5Xakqqck1okhZFjtOPKuqzsDcHwGNivb1Uh6-kB8
2025-10-20 14:05:35,320 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:05:35,333 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:05:48,497 - src.agrosense.core.mcp_client - INFO - MCP Session created: 0K1shzc2QgC1KUIbRPS5sM-mmpHz4gFw47Y3c6ZCFWA
2025-10-20 14:05:50,367 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:05:50,370 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:05:50,592 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:05:51,892 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:05:51,943 - src.agrosense.core.mcp_client - INFO - MCP Session created: mEgQktBggVLB4awg8hQzLEvxzk6VCPblXIFl7zTmxPA
2025-10-20 14:05:53,392 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:05:53,397 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:06:25,404 - src.agrosense.core.mcp_client - INFO - MCP Session created: e_9_Yad42LT602lki8CRNIHkXBr4oMkVPPLQxcbq4Kg
2025-10-20 14:06:27,266 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:06:27,268 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:06:27,554 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:28,996 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:29,000 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:30,086 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:30,194 - src.agrosense.core.mcp_client - INFO - MCP Session created: Z0LbccoxKULPlWk_xOMev4VQ-wa0IOwljsrGfAMSBxg
2025-10-20 14:06:30,770 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:32,633 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:32,807 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:34,478 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:38,981 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:43,160 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:43,313 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:44,858 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:46,465 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:06:46,468 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 14:06:46,517 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:48,815 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:48,973 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-pro-exp; provider = gemini
2025-10-20 14:06:49,839 - src.agrosense.core.mcp_client - INFO - MCP Session created: DXA58Jctdp3xpBl75hTMmv5-ss1ISckj0EZATqhe3tg
2025-10-20 14:06:52,033 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:06:52,037 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:06:52,043 - src.agrosense.core.mcp_client - INFO - MCP Session created: gwXvgzbbl8jibdH9ItZjMSq24b7NbNn0ajHbX84ITB4
2025-10-20 14:06:53,447 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:06:53,449 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:06:53,872 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:54,705 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:06:54,732 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:06:55,603 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:00,258 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:07:01,920 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:02,841 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:07:04,560 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:06,017 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:07:09,325 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:09,512 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:07:11,017 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:12,858 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:07:12,862 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 14:07:12,911 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:07:16,294 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:07:16,592 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-pro-exp; provider = gemini
2025-10-20 14:07:17,440 - src.agrosense.core.mcp_client - INFO - MCP Session created: rNbWSjXv7OLpk0bUhcQf0FH4eBRPcOFUwpTUtRlU0bM
2025-10-20 14:07:18,615 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:07:18,617 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:28:52,262 - src.agrosense.core.mcp_client - INFO - MCP Session created: sTAoL-UghRQhA6i0xFgrfATeHaypm7kihQ8gIRWjMxM
2025-10-20 14:28:53,717 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:28:53,721 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:29:06,601 - src.agrosense.core.mcp_client - INFO - MCP Session created: wRTAUxlouwP2PZ6BD3uQeU5yMr3Q6Cj5pKkw9MQNRTo
2025-10-20 14:29:07,766 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:29:07,768 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:29:07,949 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:29:09,567 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:29:09,625 - src.agrosense.core.mcp_client - INFO - MCP Session created: MScpUlTJaXiaotlRXz4vHutUiOmCslP4wD9bUaBYPn0
2025-10-20 14:29:10,891 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:29:10,893 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:29:23,231 - src.agrosense.core.mcp_client - INFO - MCP Session created: pSeQ28_p_9IYn7Yzg09bhoxjx2PxtqhzHlTq1APvbYU
2025-10-20 14:29:24,814 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:29:24,817 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:29:24,939 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:29:26,974 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:29:27,045 - src.agrosense.core.mcp_client - INFO - MCP Session created: La65KQx-aYdyd2khQa7fBun2rjIoHbo_TRQesIKUt24
2025-10-20 14:29:28,233 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:29:28,236 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:30:02,884 - src.agrosense.core.mcp_client - INFO - MCP Session created: oJpSWGiqabVbQavhNkwXpSI75ABERa-ukUAVsqrmZ_Q
2025-10-20 14:30:04,322 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:30:04,327 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:30:04,431 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:30:05,916 - src.agrosense.main - ERROR - Conversation error: litellm.InternalServerError: litellm.InternalServerError: VertexAIException - {
  "error": {
    "code": 503,
    "message": "The model is overloaded. Please try again later.",
    "status": "UNAVAILABLE"
  }
}

2025-10-20 14:30:05,967 - src.agrosense.core.mcp_client - INFO - MCP Session created: qtKiwTtCZK2S4ITjhS2iipHanp2FRBmhPaRoPCzN8TI
2025-10-20 14:30:07,206 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:30:07,210 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:45:58,689 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 14:45:58,741 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 14:45:58,741 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 14:45:58,741 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 14:45:58,741 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 14:45:58,741 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 14:46:05,868 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:46:05,880 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:46:05,885 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:46:05,892 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-pro-exp
2025-10-20 14:46:05,902 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:46:05,910 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 14:46:05,910 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:46:05,915 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 14:46:05,915 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 14:49:01,677 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 14:49:01,687 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 14:49:01,690 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 14:49:01,690 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 14:49:01,691 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 14:49:01,692 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 14:49:04,893 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:49:04,898 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:49:04,903 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:49:04,911 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-pro-exp
2025-10-20 14:49:04,918 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:49:04,932 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 14:49:04,933 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash-exp
2025-10-20 14:49:04,933 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 14:49:04,934 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 14:49:16,372 - src.agrosense.core.mcp_client - INFO - MCP Session created: nAsALEv4cgwACXrYLhK7Ctj_rIrf05VwKNNprUOgqIA
2025-10-20 14:49:17,716 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:49:17,720 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:49:23,268 - src.agrosense.core.mcp_client - INFO - MCP Session created: U-Hi5UVcTHRrb7JkcAEq2IRzPuzWMtuKFezUWg8cZx0
2025-10-20 14:49:24,878 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:49:24,883 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:49:24,913 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: HELLO...
2025-10-20 14:49:24,952 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:49:28,007 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:49:28,091 - src.agrosense.core.mcp_client - INFO - MCP Session created: prcwPt6OSzqVm0_K5frLaFZ_6ylRWzaunwug10tMEn0
2025-10-20 14:49:29,188 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:49:29,191 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:49:43,191 - src.agrosense.core.mcp_client - INFO - MCP Session created: -jZK0NAk_t0K-6k6Vch6JpB1m2lJl3KG2pSB6ulxtZA
2025-10-20 14:49:44,326 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:49:44,328 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:49:44,361 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: My calf has a diarrhoea...
2025-10-20 14:49:44,367 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:49:48,553 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:49:48,633 - src.agrosense.core.mcp_client - INFO - MCP Session created: 03r5Tsxc4YpqEEG4bQiIToYxhp3avCELkQ0jDYgcs6E
2025-10-20 14:49:49,737 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:49:49,740 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:50:14,238 - src.agrosense.core.mcp_client - INFO - MCP Session created: OsLqCi-8ZuBlOP3V5DUf4w0mGfdFrA3P1CnmlgGoh7A
2025-10-20 14:50:15,516 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:50:15,519 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:50:15,566 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: it is bloody, I am in Mombasa...
2025-10-20 14:50:15,570 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:18,807 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:18,811 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:20,094 - src.agrosense.main - ERROR - Extraction error: litellm.InternalServerError: litellm.InternalServerError: VertexAIException - {
  "error": {
    "code": 503,
    "message": "The model is overloaded. Please try again later.",
    "status": "UNAVAILABLE"
  }
}

2025-10-20 14:50:20,095 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'general crop', 'region': 'Kenya', 'issue': 'farming concern', 'additional_details': None}
2025-10-20 14:50:20,098 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session HPtUUE5fa9RZVcNxCgXuzWktCdFRjxXVwrSquq2IqzU
2025-10-20 14:50:20,099 - src.agrosense.core.mcp_client - INFO - MCP Session created: HPtUUE5fa9RZVcNxCgXuzWktCdFRjxXVwrSquq2IqzU
2025-10-20 14:50:20,100 - src.agrosense.main - INFO - [START] Running crew for session HPtUUE5fa9RZVcNxCgXuzWktCdFRjxXVwrSquq2IqzU
2025-10-20 14:50:20,282 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:24,877 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:25,068 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:28,095 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:30,910 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:34,824 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:34,932 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:38,824 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:38,844 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Kenya
2025-10-20 14:50:38,928 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-10-20 14:50:43,050 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 14:50:43,197 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-pro-exp; provider = gemini
2025-10-20 14:50:43,588 - src.agrosense.main - ERROR - [ERROR] Diagnosis error for session HPtUUE5fa9RZVcNxCgXuzWktCdFRjxXVwrSquq2IqzU: litellm.RateLimitError: litellm.RateLimitError: VertexAIException - {
  "error": {
    "code": 429,
    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\nPlease retry in 14.864969398s.",
    "status": "RESOURCE_EXHAUSTED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.QuotaFailure",
        "violations": [
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerDay-FreeTier",
            "quotaDimensions": {
              "model": "gemini-2.0-pro-exp",
              "location": "global"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Learn more about Gemini API quotas",
            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.RetryInfo",
        "retryDelay": "14s"
      }
    ]
  }
}
Traceback (most recent call last):
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\vertex_ai\gemini\vertex_and_google_ai_studio_gemini.py", line 1890, in completion
    response = client.post(url=url, headers=headers, json=data)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\custom_httpx\http_handler.py", line 780, in post
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\custom_httpx\http_handler.py", line 762, in post
    response.raise_for_status()
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-pro-exp:generateContent?key=AIzaSyAKwIgD5aIft4VUR8k9qja-nxBvc0xH1ks'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\main.py", line 2606, in completion
    response = vertex_chat_completion.completion(  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\vertex_ai\gemini\vertex_and_google_ai_studio_gemini.py", line 1894, in completion
    raise VertexAIError(
litellm.llms.vertex_ai.common_utils.VertexAIError: {
  "error": {
    "code": 429,
    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\nPlease retry in 14.864969398s.",
    "status": "RESOURCE_EXHAUSTED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.QuotaFailure",
        "violations": [
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerDay-FreeTier",
            "quotaDimensions": {
              "model": "gemini-2.0-pro-exp",
              "location": "global"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Learn more about Gemini API quotas",
            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.RetryInfo",
        "retryDelay": "14s"
      }
    ]
  }
}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\Desktop\agrosense\src\agrosense\main.py", line 401, in run_diagnosis_background
    result = crew.crew().kickoff(inputs=inputs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 698, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 812, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 918, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 377, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 528, in _execute_core
    raise e  # Re-raise the exception after emitting the event
    ^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 441, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 471, in execute_task
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 447, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 543, in _execute_without_timeout
    return self.agent_executor.invoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 149, in invoke
    formatted_answer = self._invoke_loop()
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 243, in _invoke_loop
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 189, in _invoke_loop
    answer = get_llm_response(
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\utilities\agent_utils.py", line 253, in get_llm_response
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\utilities\agent_utils.py", line 246, in get_llm_response
    answer = llm.call(
             ^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\llm.py", line 1024, in call
    return self._handle_non_streaming_response(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\llm.py", line 799, in _handle_non_streaming_response
    response = litellm.completion(**params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\utils.py", line 1330, in wrapper
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\utils.py", line 1205, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\main.py", line 3427, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2301, in exception_type
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 1266, in exception_type
    raise RateLimitError(
litellm.exceptions.RateLimitError: litellm.RateLimitError: litellm.RateLimitError: VertexAIException - {
  "error": {
    "code": 429,
    "message": "You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_input_token_count, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\n* Quota exceeded for metric: generativelanguage.googleapis.com/generate_content_free_tier_requests, limit: 0\nPlease retry in 14.864969398s.",
    "status": "RESOURCE_EXHAUSTED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.QuotaFailure",
        "violations": [
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerDay-FreeTier",
            "quotaDimensions": {
              "model": "gemini-2.0-pro-exp",
              "location": "global"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_input_token_count",
            "quotaId": "GenerateContentInputTokensPerModelPerMinute-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerMinutePerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          },
          {
            "quotaMetric": "generativelanguage.googleapis.com/generate_content_free_tier_requests",
            "quotaId": "GenerateRequestsPerDayPerProjectPerModel-FreeTier",
            "quotaDimensions": {
              "location": "global",
              "model": "gemini-2.0-pro-exp"
            }
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Learn more about Gemini API quotas",
            "url": "https://ai.google.dev/gemini-api/docs/rate-limits"
          }
        ]
      },
      {
        "@type": "type.googleapis.com/google.rpc.RetryInfo",
        "retryDelay": "14s"
      }
    ]
  }
}

2025-10-20 14:50:43,791 - src.agrosense.core.mcp_client - INFO - MCP Session created: N2p-DFWy72KMnEJ_IwI6PMEglvseuUEOwqO7vIlGx7c
2025-10-20 14:50:45,127 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 14:50:45,129 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 14:53:08,865 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 14:53:08,875 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 14:53:08,875 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 14:53:08,875 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 14:53:08,875 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 14:53:08,875 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 14:53:11,878 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:53:11,885 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:53:11,890 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:53:11,898 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0
2025-10-20 14:53:11,904 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:53:11,912 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 14:53:11,913 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:53:11,913 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 14:53:11,913 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 14:56:40,100 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 14:56:40,119 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 14:56:40,119 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 14:56:40,120 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 14:56:40,120 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 14:56:40,121 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 14:56:43,752 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:56:43,757 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 14:56:43,764 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:56:43,776 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0
2025-10-20 14:56:43,786 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:56:43,800 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 14:56:43,801 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0-flash
2025-10-20 14:56:43,802 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 14:56:43,802 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:00:58,518 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:00:58,564 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:00:58,564 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:00:58,569 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:00:58,569 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:00:58,569 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:01:01,720 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:01:01,725 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:01:01,731 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:01:01,743 - src.agrosense.core.model_router - INFO - [INFO] Using gemini: gemini/gemini-2.0
2025-10-20 15:01:01,754 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:01:01,761 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:01:01,761 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:01:01,766 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:01:01,766 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:01:29,184 - src.agrosense.core.mcp_client - INFO - MCP Session created: uta5heNRg3VuM0Hz0EUsh61JDgrD391ToqWzTi9LU4I
2025-10-20 15:01:30,409 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:01:30,417 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:01:39,030 - src.agrosense.core.mcp_client - INFO - MCP Session created: fmbHlMuUUHpEHlr9n5l2rNTvSaJwBCbQhq76g5Qjr_s
2025-10-20 15:01:40,660 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:01:40,665 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:01:40,698 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hey...
2025-10-20 15:01:40,734 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:01:42,191 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:01:42,244 - src.agrosense.core.mcp_client - INFO - MCP Session created: cTRniQ1EHGz9K5yGLHN7LusD0647cu9XKu0aBJgmxkU
2025-10-20 15:01:43,655 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:01:43,657 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:03:29,311 - src.agrosense.core.mcp_client - INFO - MCP Session created: wx44x31zZ2hV3OTBWnmsQx-aFDlBywMD8M3krY0GL5k
2025-10-20 15:03:30,733 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:03:30,735 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:03:30,767 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow is dying...
2025-10-20 15:03:30,780 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:03:31,725 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:03:31,778 - src.agrosense.core.mcp_client - INFO - MCP Session created: xfZwGCKsNQZLlFGLQqBF_Lp9ABE9BchMCs67cXUhvtc
2025-10-20 15:03:32,910 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:03:32,913 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:08:55,777 - src.agrosense.core.mcp_client - INFO - MCP Session created: cJaaRWi19vFZaweKqVnGAV9fT8MZpjCobtgTK_9JnOs
2025-10-20 15:08:57,339 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:08:57,342 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:08:57,379 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: a dairy cow,mombasa, the cow has a bloody diarrhoea...
2025-10-20 15:08:57,388 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:08:58,183 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:08:58,271 - src.agrosense.core.mcp_client - INFO - MCP Session created: B-g6g5EN4mUAct2RHEicAR0GQOWkRgREtOVLC64OG1U
2025-10-20 15:08:59,386 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:08:59,389 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:09:39,377 - src.agrosense.core.mcp_client - INFO - MCP Session created: EaGMCUtQhiN4Rc__ej9Mp_cjGM4WOAHjQ6EEMmtp90Y
2025-10-20 15:09:40,654 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:09:40,656 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:09:40,707 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: loss of appetite the cow is 1 year old...
2025-10-20 15:09:40,711 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:09:41,832 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:41,838 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:09:42,273 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:42,278 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'dairy cow', 'region': 'Mombasa', 'issue': 'bloody diarrhoea and loss of appetite', 'additional_details': '1 year old, symptoms include loss of appetite'}
2025-10-20 15:09:42,286 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session VEFmnVsfmuzpdE72LT9NiyusLB9fBd8e-LGLxaM3UKQ
2025-10-20 15:09:42,287 - src.agrosense.core.mcp_client - INFO - MCP Session created: VEFmnVsfmuzpdE72LT9NiyusLB9fBd8e-LGLxaM3UKQ
2025-10-20 15:09:42,289 - src.agrosense.main - INFO - [START] Running crew for session VEFmnVsfmuzpdE72LT9NiyusLB9fBd8e-LGLxaM3UKQ
2025-10-20 15:09:42,422 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:09:42,963 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:43,062 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:09:52,707 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:52,864 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:09:54,602 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:56,192 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:09:56,194 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 15:09:56,251 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:09:57,046 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:09:57,164 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0; provider = gemini
2025-10-20 15:09:58,171 - src.agrosense.main - ERROR - [ERROR] Diagnosis error for session VEFmnVsfmuzpdE72LT9NiyusLB9fBd8e-LGLxaM3UKQ: litellm.NotFoundError: VertexAIException - {
  "error": {
    "code": 404,
    "message": "models/gemini-2.0 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.",
    "status": "NOT_FOUND"
  }
}
Traceback (most recent call last):
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\vertex_ai\gemini\vertex_and_google_ai_studio_gemini.py", line 1890, in completion
    response = client.post(url=url, headers=headers, json=data)  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\custom_httpx\http_handler.py", line 780, in post
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\custom_httpx\http_handler.py", line 762, in post
    response.raise_for_status()
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0:generateContent?key=AIzaSyAKwIgD5aIft4VUR8k9qja-nxBvc0xH1ks'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\main.py", line 2606, in completion
    response = vertex_chat_completion.completion(  # type: ignore
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\llms\vertex_ai\gemini\vertex_and_google_ai_studio_gemini.py", line 1894, in completion
    raise VertexAIError(
litellm.llms.vertex_ai.common_utils.VertexAIError: {
  "error": {
    "code": 404,
    "message": "models/gemini-2.0 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.",
    "status": "NOT_FOUND"
  }
}


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Admin\Desktop\agrosense\src\agrosense\main.py", line 401, in run_diagnosis_background
    result = crew.crew().kickoff(inputs=inputs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 698, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 812, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\crew.py", line 918, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 377, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 528, in _execute_core
    raise e  # Re-raise the exception after emitting the event
    ^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\task.py", line 441, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 471, in execute_task
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 447, in execute_task
    result = self._execute_without_timeout(task_prompt, task)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agent.py", line 543, in _execute_without_timeout
    return self.agent_executor.invoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 149, in invoke
    formatted_answer = self._invoke_loop()
                       ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 243, in _invoke_loop
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\agents\crew_agent_executor.py", line 189, in _invoke_loop
    answer = get_llm_response(
             ^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\utilities\agent_utils.py", line 253, in get_llm_response
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\utilities\agent_utils.py", line 246, in get_llm_response
    answer = llm.call(
             ^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\llm.py", line 1024, in call
    return self._handle_non_streaming_response(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\crewai\llm.py", line 799, in _handle_non_streaming_response
    response = litellm.completion(**params)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\utils.py", line 1330, in wrapper
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\utils.py", line 1205, in wrapper
    result = original_function(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\main.py", line 3427, in completion
    raise exception_type(
          ^^^^^^^^^^^^^^^
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 2301, in exception_type
    raise e
  File "C:\Users\Admin\miniconda3\envs\Agrisense\Lib\site-packages\litellm\litellm_core_utils\exception_mapping_utils.py", line 1315, in exception_type
    raise NotFoundError(
litellm.exceptions.NotFoundError: litellm.NotFoundError: VertexAIException - {
  "error": {
    "code": 404,
    "message": "models/gemini-2.0 is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.",
    "status": "NOT_FOUND"
  }
}

2025-10-20 15:09:58,361 - src.agrosense.core.mcp_client - INFO - MCP Session created: xeu2yEt-eQyoQfkas4xCfz5cOOnZxdiGYxJFWKJej-4
2025-10-20 15:10:00,488 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:10:00,492 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:11:51,929 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:11:51,977 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:11:51,977 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:11:51,979 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:11:51,991 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:11:51,994 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:11:55,496 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:11:55,500 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:11:55,505 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:11:55,511 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:11:55,519 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:11:55,520 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:11:55,528 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:11:55,528 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:11:55,528 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:12:15,998 - src.agrosense.core.mcp_client - INFO - MCP Session created: YTt55KZaL9jbMn3VAhQs9JdWZPhqOoWcYNSxqOwN6Xw
2025-10-20 15:12:17,606 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:12:17,610 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:12:23,871 - src.agrosense.core.mcp_client - INFO - MCP Session created: beYW1YqdK7C2XJKj1VcrcZnNPvlGUH7AS2uOhv57cVg
2025-10-20 15:12:25,688 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:12:25,695 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:12:25,726 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hey...
2025-10-20 15:12:25,792 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:12:27,243 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:12:27,316 - src.agrosense.core.mcp_client - INFO - MCP Session created: L_Aa1jqydQgObDyr8zPJzftneiUCAwdA8B2Dm5j4DGY
2025-10-20 15:12:29,032 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:12:29,037 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:12:39,935 - src.agrosense.core.mcp_client - INFO - MCP Session created: aQ3W6sVzjq7wVfCl9PhjX46AwE915WjbYy0S_KUNVJ4
2025-10-20 15:12:41,323 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:12:41,327 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:12:41,360 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow has a diarrhoea...
2025-10-20 15:12:41,366 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:12:42,173 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:12:42,247 - src.agrosense.core.mcp_client - INFO - MCP Session created: VZOkzmXcqCx2QIYeI62w-4-Bc_hY9Mz5Zz4E7msmghw
2025-10-20 15:12:43,526 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:12:43,530 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:13:27,778 - src.agrosense.core.mcp_client - INFO - MCP Session created: jODDxV3jJ03NI5YPQjy2857QSbY1VmZ4E57AVMG6Aew
2025-10-20 15:13:29,107 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:13:29,109 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:13:29,146 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: i am in mombasa, the diarrhoea is bloody and loss of appetite it has been going on for 3days...
2025-10-20 15:13:29,150 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:29,743 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:29,749 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:30,139 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:30,145 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'cow', 'region': 'Mombasa', 'issue': 'diarrhea', 'additional_details': 'bloody diarrhea, loss of appetite, 3 days'}
2025-10-20 15:13:30,159 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session EArGUZ6rW_4AE5dUu2ZOMJo5JWHYAYi2oxDisECPaqM
2025-10-20 15:13:30,163 - src.agrosense.core.mcp_client - INFO - MCP Session created: EArGUZ6rW_4AE5dUu2ZOMJo5JWHYAYi2oxDisECPaqM
2025-10-20 15:13:30,164 - src.agrosense.main - INFO - [START] Running crew for session EArGUZ6rW_4AE5dUu2ZOMJo5JWHYAYi2oxDisECPaqM
2025-10-20 15:13:30,273 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:30,787 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:30,876 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:13:41,567 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:41,704 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:43,130 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:44,262 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:13:44,264 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 15:13:44,298 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:45,061 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:45,165 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:13:53,597 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:53,757 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:55,139 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:55,219 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:56,269 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:56,360 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:13:57,127 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:13:57,203 - src.agrosense.main - INFO - [OK] Diagnosis completed for session EArGUZ6rW_4AE5dUu2ZOMJo5JWHYAYi2oxDisECPaqM
2025-10-20 15:13:59,281 - src.agrosense.core.mcp_client - INFO - MCP Session created: Kl3C8FwSkWcYB9T_Wqqzlylf52FbKZmjdqwBuXV81wE
2025-10-20 15:14:00,987 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:14:00,990 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:15:48,305 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:15:48,357 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:15:48,357 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:15:48,357 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:15:48,357 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:15:48,357 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:15:51,206 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:15:51,211 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:15:51,217 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:15:51,227 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:15:51,234 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:15:51,241 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:15:51,241 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:15:51,243 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:15:51,243 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:18:32,900 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow has a diarrhoea, I am in mombasa, the diarrhoea is bloody and loss of appetite it has been go...
2025-10-20 15:18:32,978 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:34,859 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:34,864 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:35,581 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:35,586 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'cow', 'region': 'Mombasa', 'issue': 'diarrhoea', 'additional_details': 'bloody diarrhoea, loss of appetite, 3 days'}
2025-10-20 15:18:35,593 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session string
2025-10-20 15:18:35,600 - src.agrosense.core.mcp_client - INFO - MCP Session created: string
2025-10-20 15:18:35,602 - src.agrosense.main - INFO - [START] Running crew for session string
2025-10-20 15:18:36,141 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:36,607 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:37,226 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:18:44,288 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:44,417 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:46,201 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:47,568 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:18:47,568 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 15:18:47,611 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:48,617 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:48,692 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:50,083 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:50,143 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:51,440 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:51,509 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:18:52,861 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:18:53,022 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:19:00,578 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:19:00,739 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:19:03,022 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:19:03,104 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:19:04,042 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:19:04,089 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:19:05,164 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:19:05,233 - src.agrosense.main - INFO - [OK] Diagnosis completed for session string
2025-10-20 15:52:15,094 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:52:15,126 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:52:15,127 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:52:15,128 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:52:15,128 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:52:15,128 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:52:20,616 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:52:20,621 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:52:20,626 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:52:20,632 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:52:20,638 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:52:20,643 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:52:20,644 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:52:20,644 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:52:20,646 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:56:05,129 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:56:05,148 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:56:05,149 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:56:05,149 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:56:05,150 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:56:05,150 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:56:12,157 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:12,161 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:56:12,169 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:12,176 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:56:12,181 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:12,192 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:56:12,193 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:12,193 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:56:12,194 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:56:41,139 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 15:56:41,175 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 15:56:41,176 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 15:56:41,176 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 15:56:41,176 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 15:56:41,177 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 15:56:44,912 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:44,917 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:56:44,925 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:44,934 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 15:56:44,940 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:44,957 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 15:56:44,957 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 15:56:44,957 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 15:56:44,960 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 15:56:44,963 - src.agrosense.core.mcp_client - INFO - MCP Session created: R88Cqme35G4sB3DyV1Z8e-lRfmh55_zChfnekG3dg_w
2025-10-20 15:56:46,633 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:56:46,633 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:56:56,790 - src.agrosense.core.mcp_client - INFO - MCP Session created: rMjxH74ccbbOqhnA6p2YsOHm4-1BWniuY-Nd05RIzSs
2025-10-20 15:56:58,535 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:56:58,539 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:57:09,515 - src.agrosense.core.mcp_client - INFO - MCP Session created: fn4nPPYjYFtlDDQOdbTUqkHBrQN9KS7kbUTnHNgQaf8
2025-10-20 15:57:11,581 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:57:11,586 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:57:11,615 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hello...
2025-10-20 15:57:11,657 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:57:13,680 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:57:13,738 - src.agrosense.core.mcp_client - INFO - MCP Session created: UXRkomhL2_wRBiGfAnjmBmz2oPw05ndMS4hem5iO4_I
2025-10-20 15:57:15,600 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:57:15,605 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:58:09,015 - src.agrosense.core.mcp_client - INFO - MCP Session created: b-cgBHqO39fJH47_cuLeI26WOIZND_ciYJ9xZbok6jk
2025-10-20 15:58:13,631 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:58:13,634 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:58:13,668 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow has a diarrhoea, I am in mombasa, the diarrhoea is bloody and loss of appetite it has been go...
2025-10-20 15:58:13,673 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:14,601 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:14,605 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:15,167 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:15,170 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'cow', 'region': 'Mombasa', 'issue': 'diarrhoea', 'additional_details': 'bloody diarrhoea, loss of appetite, 3 days'}
2025-10-20 15:58:15,179 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session 2sD8x8ih8CkSGZFKUlEKK_JeNdLyOyH_TkpuGw9gNFw
2025-10-20 15:58:15,181 - src.agrosense.core.mcp_client - INFO - MCP Session created: 2sD8x8ih8CkSGZFKUlEKK_JeNdLyOyH_TkpuGw9gNFw
2025-10-20 15:58:15,201 - src.agrosense.main - INFO - [START] Running crew for session 2sD8x8ih8CkSGZFKUlEKK_JeNdLyOyH_TkpuGw9gNFw
2025-10-20 15:58:15,369 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:15,951 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:16,060 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:58:25,265 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:26,201 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:28,153 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:29,319 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:58:29,322 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 15:58:29,355 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:30,557 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:30,627 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:31,636 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:31,705 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:32,665 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:32,801 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 15:58:39,510 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:39,711 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:40,984 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:41,337 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 15:58:42,202 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 15:58:42,315 - src.agrosense.main - INFO - [OK] Diagnosis completed for session 2sD8x8ih8CkSGZFKUlEKK_JeNdLyOyH_TkpuGw9gNFw
2025-10-20 15:58:44,293 - src.agrosense.core.mcp_client - INFO - MCP Session created: 7gYXOoft6l2_XLjKaTczkXvtVgx-z_i9gysd5eQHo-E
2025-10-20 15:58:47,144 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:58:47,150 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 15:59:17,029 - src.agrosense.core.mcp_client - INFO - MCP Session created: FN7dlrWgW4udY5RzB-5qxshlFl6_gJw34EmptnQ3A-E
2025-10-20 15:59:22,472 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 15:59:22,475 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:04:20,884 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:04:20,921 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:04:20,925 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:04:20,926 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:04:20,927 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:04:20,928 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:04:29,415 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:04:29,606 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:04:29,755 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:04:29,779 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:04:29,862 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:04:29,923 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:04:29,929 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:04:29,949 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:04:29,973 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:04:58,158 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:04:58,194 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:04:58,196 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:04:58,197 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:04:58,198 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:04:58,200 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:05:01,413 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:05:01,418 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:05:01,424 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:05:01,435 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:05:01,442 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:05:01,447 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:05:01,451 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:05:01,452 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:05:01,453 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:13:52,946 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:13:52,970 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:13:52,970 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:13:52,971 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:13:52,971 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:13:52,972 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:13:59,039 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:13:59,044 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:13:59,055 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:13:59,060 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:13:59,065 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:13:59,072 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:13:59,073 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:13:59,075 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:13:59,076 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:14:16,955 - src.agrosense.core.mcp_client - INFO - MCP Session created: 4bNyUvP-TT1BzB6gepf1fVvztEI88OhhAOtrruSnDo4
2025-10-20 16:14:19,028 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:14:19,038 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:14:19,136 - src.agrosense.core.mcp_client - INFO - MCP Session created: KWZpNmFIe51f6QnUj2zCtQq15skGOS6qI3YNQk_7pdE
2025-10-20 16:14:20,776 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:14:20,782 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:14:32,842 - src.agrosense.core.mcp_client - INFO - MCP Session created: oDU3DY1DkRBDqBh1QYLz8kvsDUaMInzHSinkjb7XQo8
2025-10-20 16:14:38,491 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:14:38,493 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:14:50,073 - src.agrosense.core.mcp_client - INFO - MCP Session created: S4evc_3qjVX6YhgWNkHkKevbQU1tBcYrhNyrokdawBg
2025-10-20 16:14:53,294 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:14:53,300 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:14:58,361 - src.agrosense.core.mcp_client - INFO - MCP Session created: sV1uXsVRYzRQaYaUlFKcf8SCl8-L5KpaWdADomNQwEo
2025-10-20 16:15:00,364 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:15:00,367 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:15:00,450 - src.agrosense.core.mcp_client - INFO - MCP Session created: Fi6gwsbsJcFAwjVybG7fE-ZnXwrkoAOvArWGAvHLh00
2025-10-20 16:15:06,201 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:15:06,203 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:16:29,660 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:16:29,673 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:16:29,674 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:16:29,674 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:16:29,675 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:16:29,676 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:16:33,834 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:16:33,841 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:16:33,846 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:16:33,855 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:16:33,860 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:16:33,866 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:16:33,867 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:16:33,868 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:16:33,869 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:41:48,339 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:41:48,356 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:41:48,360 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:41:48,361 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:41:48,362 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:41:48,362 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:41:52,763 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:41:52,767 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:41:52,772 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:41:52,781 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:41:52,788 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:41:52,798 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:41:52,799 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:41:52,800 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:41:52,803 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:42:02,878 - src.agrosense.core.mcp_client - INFO - MCP Session created: eDK5mQBKzj0_B2TymCO9i-V3zuy3EqIm3G0SCzsPHr8
2025-10-20 16:42:05,514 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:42:05,526 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:42:10,920 - src.agrosense.core.mcp_client - INFO - MCP Session created: dWcnIeBuusYaFwDFx-Zbmjn1h9v5caziLloEhNUTpls
2025-10-20 16:42:12,880 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:42:12,883 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:42:12,919 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hey...
2025-10-20 16:42:12,965 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:42:14,620 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:42:48,890 - src.agrosense.core.mcp_client - INFO - MCP Session created: noYfCbcCrqcoyj3AWh5uOJOfaSFauPmnqjITPrzbkRY
2025-10-20 16:42:50,863 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:42:50,866 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:42:50,896 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: streamlit run frontend/streamlit_app.py

  You can now view your Streamlit app in your browser.

  L...
2025-10-20 16:42:50,913 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:42:51,914 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:44:38,013 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:44:38,025 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:44:38,026 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:44:38,027 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:44:38,027 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:44:38,028 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:44:44,578 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:44:44,598 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:44:44,610 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:44:44,630 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:44:44,642 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:44:44,657 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:44:44,660 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:44:44,661 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:44:44,662 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:44:44,671 - src.agrosense.core.mcp_client - INFO - MCP Session created: BOHIcNIygWPX42lm1VctlqOIZ_XcGRES2Mx7MVcN0QE
2025-10-20 16:44:47,259 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:44:47,263 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:44:47,268 - src.agrosense.core.mcp_client - INFO - MCP Session created: zvtr6ksUNLhO8Yz6VjmDSAdXfhtHEvPOLve0hGo-o3k
2025-10-20 16:44:48,808 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:44:48,815 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:44:48,825 - src.agrosense.core.mcp_client - INFO - MCP Session created: nxRb6KwPF0L6DsLfMyrJFzn_TtVKrnglO4C0aGM5cbM
2025-10-20 16:44:51,298 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:44:51,303 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:45:10,076 - src.agrosense.core.mcp_client - INFO - MCP Session created: Mc1dre-8VCuQph9--Xy-wwZ29UYnPD3ySY8XZKCAihw
2025-10-20 16:45:16,356 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:45:16,358 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:45:25,645 - src.agrosense.core.mcp_client - INFO - MCP Session created: qay9PgragL5NExiQ3zj9cC9amcMGpXGde8mv_cPxlXU
2025-10-20 16:45:27,670 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:45:27,676 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:45:34,391 - src.agrosense.core.mcp_client - INFO - MCP Session created: 0Rg9K1mvRuRZMaecC2DCsl-eaesxOwg4UxDX69ZJ6A4
2025-10-20 16:45:36,381 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:45:36,386 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:45:36,423 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hello...
2025-10-20 16:45:36,483 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:45:38,360 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:45:38,425 - src.agrosense.core.mcp_client - INFO - MCP Session created: snD_OQlFWybAQ2INg_IBQUIvXMhKlvhPSiYCdu6_m2E
2025-10-20 16:45:40,803 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:45:40,805 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:46:16,152 - src.agrosense.core.mcp_client - INFO - MCP Session created: cgegf4I4wvfYGk6DfrTYuxNmP56wQ_IUmj6soYql21A
2025-10-20 16:46:23,511 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:46:23,518 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:46:23,527 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow has a diarrhoea, I am in mombasa, the diarrhoea is bloody and loss of appetite it has been go...
2025-10-20 16:46:23,536 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:24,490 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:24,497 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:25,026 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:25,030 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'cow', 'region': 'Mombasa', 'issue': 'diarrhoea', 'additional_details': 'bloody diarrhoea, loss of appetite, 3 days'}
2025-10-20 16:46:25,041 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session qrVpTGCApT_d5zKQQOmLUwtOPyGoJMaWBpbS_4XyPgo
2025-10-20 16:46:25,045 - src.agrosense.core.mcp_client - INFO - MCP Session created: qrVpTGCApT_d5zKQQOmLUwtOPyGoJMaWBpbS_4XyPgo
2025-10-20 16:46:25,051 - src.agrosense.main - INFO - [START] Running crew for session qrVpTGCApT_d5zKQQOmLUwtOPyGoJMaWBpbS_4XyPgo
2025-10-20 16:46:25,213 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:25,822 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:25,910 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 16:46:33,827 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:33,940 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:35,564 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:38,094 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:46:38,099 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:46:38,151 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:38,962 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:39,066 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 16:46:48,165 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:48,687 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:50,073 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:50,120 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:50,919 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:51,006 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:46:51,714 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:46:51,814 - src.agrosense.main - INFO - [OK] Diagnosis completed for session qrVpTGCApT_d5zKQQOmLUwtOPyGoJMaWBpbS_4XyPgo
2025-10-20 16:46:51,816 - src.agrosense.core.mcp_client - INFO - MCP Session created: HwhfGhCns6-Ve1LNsSC2Mj6Pi8qESNKMO0M-KUAfZxQ
2025-10-20 16:46:54,119 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:46:54,123 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:47:25,787 - src.agrosense.core.mcp_client - INFO - MCP Session created: OXAukWgIf7ZFTAUXvZ59icwPI-a7CwZc9aREjPfJL5c
2025-10-20 16:47:27,893 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:47:27,898 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:56:37,599 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 16:56:37,613 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 16:56:37,614 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 16:56:37,615 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 16:56:37,616 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 16:56:37,616 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 16:56:45,454 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:56:45,459 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:56:45,467 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:56:45,476 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 16:56:45,485 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:56:45,492 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 16:56:45,492 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 16:56:45,493 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 16:56:45,494 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 16:56:50,962 - src.agrosense.core.mcp_client - INFO - MCP Session created: ZxS89nuZhf5M7RqbwZF-wiCaIPSyWXE4TQUb9HhNMds
2025-10-20 16:56:52,601 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:56:52,607 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:56:59,648 - src.agrosense.core.mcp_client - INFO - MCP Session created: pJJWXBONhRe1lufPEgximM5iQYe4u2d-aHKZomotp4M
2025-10-20 16:57:02,503 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:57:02,510 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:57:02,576 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hello...
2025-10-20 16:57:02,644 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:04,418 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:04,466 - src.agrosense.core.mcp_client - INFO - MCP Session created: XnOb4rnW1yerdG1iWYDAYmH2GpvuajE5r3qIxux2_0w
2025-10-20 16:57:06,163 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:57:06,165 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:57:24,910 - src.agrosense.core.mcp_client - INFO - MCP Session created: xlsiO2hgpvRvN6C7XpXZ2s5aGVRV7SbZ_WSAo7WC2e0
2025-10-20 16:57:27,787 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:57:27,797 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:57:27,842 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: my cow has a diarrhoea, I am in mombasa, the diarrhoea is bloody and loss of appetite it has been go...
2025-10-20 16:57:27,908 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:29,386 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:29,392 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:29,886 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:29,889 - src.agrosense.main - INFO - [INFO] Extracted: {'crop_or_livestock': 'cow', 'region': 'Mombasa', 'issue': 'diarrhoea', 'additional_details': 'bloody diarrhoea, loss of appetite, 3 days'}
2025-10-20 16:57:29,892 - src.agrosense.main - INFO - [TEST] Starting diagnosis for session RVAkZCECcDD70JizY3oOq1ICeXWlPfskeyool0w3x8k
2025-10-20 16:57:29,894 - src.agrosense.core.mcp_client - INFO - MCP Session created: RVAkZCECcDD70JizY3oOq1ICeXWlPfskeyool0w3x8k
2025-10-20 16:57:29,914 - src.agrosense.main - INFO - [START] Running crew for session RVAkZCECcDD70JizY3oOq1ICeXWlPfskeyool0w3x8k
2025-10-20 16:57:30,180 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:30,829 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:30,948 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 16:57:43,807 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:44,093 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:45,685 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:47,150 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:57:47,154 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 16:57:47,223 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:48,643 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:48,692 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:57:49,587 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:49,716 - LiteLLM - INFO - 
LiteLLM completion() model= command-r-plus; provider = cohere_chat
2025-10-20 16:57:59,125 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:57:59,355 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:58:00,634 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:58:00,789 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:58:01,617 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:58:01,679 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:58:02,454 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:58:02,542 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:58:03,571 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:58:03,626 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 16:58:04,389 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 16:58:04,468 - src.agrosense.main - INFO - [OK] Diagnosis completed for session RVAkZCECcDD70JizY3oOq1ICeXWlPfskeyool0w3x8k
2025-10-20 16:58:04,525 - src.agrosense.core.mcp_client - INFO - MCP Session created: ncCk2mrrncskdl-06-cR5aQC1n3PHnGS8zO8S4Mb4pE
2025-10-20 16:58:09,084 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:58:09,091 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 16:59:16,772 - src.agrosense.core.mcp_client - INFO - MCP Session created: QkB_0BZsIAdQB6uhtVmMX1Hc1Ia3PKd0huG4wLpZnQs
2025-10-20 16:59:23,805 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 16:59:23,808 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 17:01:07,164 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 17:01:07,184 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 17:01:07,185 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 17:01:07,186 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 17:01:07,187 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 17:01:07,187 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 17:01:16,465 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:16,477 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:01:16,500 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:16,532 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:01:16,581 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:16,593 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 17:01:16,601 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:16,612 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 17:01:16,643 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 17:01:49,991 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 17:01:50,006 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 17:01:50,008 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 17:01:50,009 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 17:01:50,009 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 17:01:50,011 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 17:01:54,781 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:54,795 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:01:54,803 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:54,812 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:01:54,822 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:54,830 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 17:01:54,834 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:01:54,836 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 17:01:54,845 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 17:02:20,333 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 17:02:20,347 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 17:02:20,351 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 17:02:20,352 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 17:02:20,353 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 17:02:20,354 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 17:02:23,838 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:02:23,843 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:02:23,848 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:02:23,854 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 17:02:23,859 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:02:23,863 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 17:02:23,864 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 17:02:23,864 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 17:02:23,865 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 17:02:23,869 - src.agrosense.core.mcp_client - INFO - MCP Session created: 2emS_Jra6juVQL9w_4t3ZRvxi58mld1OQtSkkR_sHGk
2025-10-20 17:02:25,647 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:25,655 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 17:02:25,662 - src.agrosense.core.mcp_client - INFO - MCP Session created: 9EMK4GvBnzNVk3RP6izPT8eIbydJzZJZXx2wwoNHXzo
2025-10-20 17:02:27,333 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:27,340 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 17:02:31,880 - src.agrosense.core.mcp_client - INFO - MCP Session created: U-0ghb3AD_nHNrbifXTU4_elm4QLFUfaTFTo_Sv6-mE
2025-10-20 17:02:33,912 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-4.0435&lon=39.6682&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:33,915 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Mombasa
2025-10-20 17:02:34,424 - src.agrosense.core.mcp_client - INFO - MCP Session created: XF3hWw2u9D82plo4A38IMNXvZZPrPnCMxs6LVZ4n1qE
2025-10-20 17:02:35,940 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:35,950 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 17:02:40,311 - src.agrosense.core.mcp_client - INFO - MCP Session created: 8gSyxBsm4dVExctgk7731oesnAximBdVbiCRQUfIQjg
2025-10-20 17:02:45,672 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:45,682 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 17:02:45,690 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hello...
2025-10-20 17:02:45,723 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 17:02:46,978 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 17:02:47,034 - src.agrosense.core.mcp_client - INFO - MCP Session created: NDEaxYN-x1d90A-3Mt8y8ZPhxdaw3VaWDLTzNqAtiZM
2025-10-20 17:02:48,418 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 17:02:48,421 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:19:08,742 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 21:19:08,792 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 21:19:08,792 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 21:19:08,797 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 21:19:08,797 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 21:19:08,797 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 21:19:13,201 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:19:13,206 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:19:13,211 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:19:13,221 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:19:13,226 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:19:13,241 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 21:19:13,241 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:19:13,241 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 21:19:13,241 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 21:19:32,911 - src.agrosense.core.mcp_client - INFO - MCP Session created: 759eYmqh2EkCufk6DXZ5K4kJoXOcLSK-rsDZVH8WZQs
2025-10-20 21:19:34,983 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 21:19:34,988 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:19:53,738 - src.agrosense.core.mcp_client - INFO - MCP Session created: 6ERhIPzWsAHj_C3lVd2_R_ovGjWLyAvaQR5whmaz1jE
2025-10-20 21:19:55,771 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 21:19:55,781 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:19:55,864 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hey...
2025-10-20 21:19:55,900 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 21:19:57,372 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 21:19:57,449 - src.agrosense.core.mcp_client - INFO - MCP Session created: Hyj8QqOsqBwkambWSNS-FGxZUV5IT2WS-F_gEn6Kvtg
2025-10-20 21:19:59,062 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 21:19:59,064 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:22:12,216 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 21:22:12,286 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 21:22:12,291 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 21:22:12,291 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 21:22:12,291 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 21:22:12,291 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 21:22:16,539 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:22:16,544 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:22:16,549 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:22:16,564 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:22:16,594 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:22:16,609 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 21:22:16,609 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:22:16,614 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 21:22:16,614 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 21:22:24,649 - src.agrosense.core.mcp_client - INFO - MCP Session created: DXhoBlSQsuQbXj_nZPZK9kDcOSxiOiRIuDs4WjbUwpQ
2025-10-20 21:22:26,951 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 21:22:26,954 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:22:26,994 - src.agrosense.main - INFO - [CHAT] Chat from 127.0.0.1: hey...
2025-10-20 21:22:27,056 - LiteLLM - INFO - 
LiteLLM completion() model= llama-3.3-70b-versatile; provider = groq
2025-10-20 21:22:29,024 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-10-20 21:22:29,099 - src.agrosense.core.mcp_client - INFO - MCP Session created: LtVvaAKtWDRrAlkOKtBnr8bYwm0YGrLB4WY3CxMpNcs
2025-10-20 21:22:31,141 - src.agrosense.tools.weather_price_tool - ERROR - OpenWeatherMap API error: 401 Client Error: Unauthorized for url: https://api.openweathermap.org/data/2.5/weather?lat=-1.2921&lon=36.8219&appid=77679af9c25051c61c5607434f9357a6&units=metric
2025-10-20 21:22:31,148 - src.agrosense.tools.weather_price_tool - WARNING - Using mock weather data for Nairobi
2025-10-20 21:32:27,615 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 21:32:27,658 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 21:32:27,658 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 21:32:27,663 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 21:32:27,663 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 21:32:27,668 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 21:32:32,216 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:32:32,221 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:32:32,231 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:32:32,241 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 21:32:32,246 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:32:32,256 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 21:32:32,256 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 21:32:32,256 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 21:32:32,256 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 22:47:43,896 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 22:47:43,929 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 22:47:43,929 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 22:47:43,934 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 22:47:43,934 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 22:47:43,934 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 22:47:48,815 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:47:48,825 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:47:48,830 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:47:48,845 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:47:48,850 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:47:48,860 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 22:47:48,860 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:47:48,860 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 22:47:48,860 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 22:48:15,628 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 22:48:15,678 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 22:48:15,678 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 22:48:15,678 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 22:48:15,678 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 22:48:15,683 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 22:48:19,435 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:48:19,440 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:48:19,445 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:48:19,460 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:48:19,470 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:48:19,475 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 22:48:19,475 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:48:19,475 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 22:48:19,480 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 22:49:14,316 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 22:49:14,376 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 22:49:14,376 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 22:49:14,376 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 22:49:14,381 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 22:49:14,381 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 22:49:20,320 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:20,325 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:49:20,335 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:20,345 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:49:20,350 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:20,360 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 22:49:20,360 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:20,360 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 22:49:20,360 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-20 22:49:50,399 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-20 22:49:50,444 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-20 22:49:50,449 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-20 22:49:50,454 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-20 22:49:50,454 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-20 22:49:50,459 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-20 22:49:54,386 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:54,391 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:49:54,401 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:54,406 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-20 22:49:54,416 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:54,421 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-20 22:49:54,421 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-20 22:49:54,426 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-20 22:49:54,426 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
2025-10-21 09:03:24,372 - src.agrosense.main - WARNING - [WARN] Redis unavailable. Using in-memory storage (sessions will be lost on restart)
2025-10-21 09:03:24,386 - src.agrosense.main - INFO - [FARM] Starting AgroSense API v2.2.0...
2025-10-21 09:03:24,387 - src.agrosense.main - INFO - [INFO] Features: Memory, Security, Fallback Mechanisms
2025-10-21 09:03:24,390 - src.agrosense.main - INFO - [INFO] Storage: In-Memory
2025-10-21 09:03:24,391 - src.agrosense.main - INFO - [INFO] AI Providers: Gemini, Groq, Cohere
2025-10-21 09:03:24,391 - src.agrosense.main - INFO - [FARM] Initializing AgroSense Crew...
2025-10-21 09:03:29,634 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-21 09:03:29,642 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-21 09:03:29,649 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-21 09:03:29,662 - src.agrosense.core.model_router - INFO - [INFO] Using cohere: command-r-plus
2025-10-21 09:03:29,669 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-21 09:03:29,703 - src.agrosense.main - INFO - [OK] Crew initialized successfully
2025-10-21 09:03:29,705 - src.agrosense.core.model_router - INFO - [INFO] Using groq: groq/llama-3.3-70b-versatile
2025-10-21 09:03:29,706 - src.agrosense.main - INFO - [OK] Conversational LLM initialized with model router
2025-10-21 09:03:29,711 - src.agrosense.main - INFO - [INFO] AgroSense API ready!
