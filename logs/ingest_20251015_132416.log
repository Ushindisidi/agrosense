2025-10-15 13:24:16,523 - INFO - ============================================================
2025-10-15 13:24:16,537 - INFO - STARTING INGESTION PROCESS
2025-10-15 13:24:16,538 - INFO - ============================================================
2025-10-15 13:24:16,549 - INFO - Pinecone client initialized successfully.
2025-10-15 13:24:18,186 - INFO - Pinecone index 'agrosense' already exists.
2025-10-15 13:24:18,186 - INFO - Found 11 PDF files to process.
2025-10-15 13:24:18,187 - INFO - [1/11] Processing '11pests1disease.pdf' (Type: LIVESTOCK)...
2025-10-15 13:24:19,179 - INFO - [2/11] Processing 'Animal diseases.pdf' (Type: LIVESTOCK)...
2025-10-15 13:24:19,560 - INFO - [3/11] Processing 'animal-health-educational-toolkit_priority-animal-diseases-sheets.pdf' (Type: LIVESTOCK)...
2025-10-15 13:25:05,115 - INFO - [4/11] Processing 'cattle-diseases-farmers-guide.pdf' (Type: LIVESTOCK)...
2025-10-15 13:25:12,619 - INFO - [5/11] Processing 'CLIMATE SMART AGRICULTURE TRAINER OF TRAINERS MANUAL.pdf' (Type: GENERAL)...
2025-10-15 13:25:19,033 - INFO - [6/11] Processing 'Common-Diseases-Chart-1.pdf' (Type: LIVESTOCK)...
2025-10-15 13:25:20,136 - INFO - [7/11] Processing 'Diseases-of-Field-Crops-and-Their-Management.pdf' (Type: LIVESTOCK)...
2025-10-15 13:25:24,090 - INFO - [8/11] Processing 'KALRO-KCEP Maize Extension and Training  Manual_04042016.pdf' (Type: CROP)...
2025-10-15 13:25:24,100 - WARNING - Ignoring wrong pointing object 29 0 (offset 0)
2025-10-15 13:25:24,101 - WARNING - Ignoring wrong pointing object 31 0 (offset 0)
2025-10-15 13:25:24,107 - WARNING - Ignoring wrong pointing object 71 0 (offset 0)
2025-10-15 13:25:27,382 - INFO - [9/11] Processing 'Kenya-Potato-Guide-0821-.pdf' (Type: CROP)...
2025-10-15 13:25:46,377 - INFO - [10/11] Processing 'MAIZE FERTILIZERS RECOMMENDATIONS FOR KENYA-FINAL-091216.pdf' (Type: CROP)...
2025-10-15 13:25:50,203 - INFO - [11/11] Processing 'Weed management in coffee 2.pdf' (Type: CROP)...
2025-10-15 13:25:50,874 - INFO - Successfully loaded 516 pages from 11 PDFs.
2025-10-15 13:25:50,874 - INFO - Splitting documents into chunks (size=1024, overlap=200)...
2025-10-15 13:25:50,996 - INFO - Created 1069 total chunks.
2025-10-15 13:25:50,997 - INFO - Initializing Cohere embeddings model: embed-english-v3.0...
2025-10-15 13:25:52,543 - INFO - Upserting 1069 chunks in 11 batches (batch_size=100)...
2025-10-15 13:25:52,544 - INFO - Processing batch 1/11 (100 chunks)...
2025-10-15 13:25:57,396 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:25:57,952 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:05,027 - INFO - Processing batch 2/11 (100 chunks)...
2025-10-15 13:26:06,560 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:06,808 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:13,955 - INFO - Processing batch 3/11 (100 chunks)...
2025-10-15 13:26:17,836 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:18,226 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:25,434 - INFO - Processing batch 4/11 (100 chunks)...
2025-10-15 13:26:27,256 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:27,609 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:34,849 - INFO - Processing batch 5/11 (100 chunks)...
2025-10-15 13:26:36,163 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:36,756 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:44,516 - INFO - Processing batch 6/11 (100 chunks)...
2025-10-15 13:26:48,344 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:48,826 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:55,965 - INFO - Processing batch 7/11 (100 chunks)...
2025-10-15 13:26:57,443 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:26:57,903 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 429 Too Many Requests"
2025-10-15 13:26:57,905 - WARNING - Retrying langchain_cohere.embeddings.CohereEmbeddings.embed_with_retry.<locals>._embed_with_retry in 4.0 seconds as it raised TooManyRequestsError: headers: {'access-control-expose-headers': 'X-Debug-Trace-ID', 'cache-control': 'no-cache, no-store, no-transform, must-revalidate, private, max-age=0', 'content-encoding': 'gzip', 'content-type': 'application/json', 'expires': 'Thu, 01 Jan 1970 00:00:00 GMT', 'pragma': 'no-cache', 'vary': 'Origin,Accept-Encoding', 'x-accel-expires': '0', 'x-debug-trace-id': 'c8c4d0a5c9b8a9b5360612c11a9a1f8e', 'x-endpoint-monthly-call-limit': '1000', 'x-trial-endpoint-call-limit': '40', 'x-trial-endpoint-call-remaining': '28', 'date': 'Wed, 15 Oct 2025 10:26:58 GMT', 'x-envoy-upstream-service-time': '155', 'server': 'envoy', 'via': '1.1 google', 'alt-svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'transfer-encoding': 'chunked'}, status_code: 429, body: {'id': 'ba0849b8-4e92-4357-96bc-e0086c5c8653', 'message': 'trial token rate limit exceeded, limit is 100000 tokens per minute'}.
2025-10-15 13:27:02,207 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:02,740 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:11,828 - INFO - Processing batch 8/11 (100 chunks)...
2025-10-15 13:27:13,904 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:14,404 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:23,306 - INFO - Processing batch 9/11 (100 chunks)...
2025-10-15 13:27:27,089 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:27,422 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:37,416 - INFO - Processing batch 10/11 (100 chunks)...
2025-10-15 13:27:39,180 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:40,130 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:49,617 - INFO - Processing batch 11/11 (69 chunks)...
2025-10-15 13:27:51,431 - INFO - HTTP Request: POST https://api.cohere.com/v1/embed "HTTP/1.1 200 OK"
2025-10-15 13:27:56,392 - INFO - ============================================================
2025-10-15 13:27:56,393 - INFO - INGESTION SUMMARY
2025-10-15 13:27:56,394 - INFO - Total chunks: 1069
2025-10-15 13:27:56,395 - INFO - Successful batches: 11/11
2025-10-15 13:27:56,395 - INFO - Failed batches: 0/11
2025-10-15 13:27:56,402 - INFO - ============================================================
